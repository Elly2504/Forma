---
interface Props {
  items: Array<{
    question: string;
    answer: string;
  }>;
}

const { items } = Astro.props;

// Generate FAQ Schema for SEO
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": items.map(item => ({
    "@type": "Question",
    "name": item.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": item.answer
    }
  }))
};
---

<section class="my-12">
  <h2 class="text-2xl sm:text-3xl font-bold text-white mb-8 pb-3 border-b border-white/10 flex items-center gap-3">
    Frequently Asked Questions
  </h2>
  
  <div class="space-y-3">
    {items.map((item) => (
      <details 
        class="group bg-zinc-900/50 rounded-xl border border-white/5 overflow-hidden"
      >
        <summary class="flex items-center justify-between gap-4 p-4 sm:p-5 cursor-pointer list-none hover:bg-zinc-800/50 transition-colors">
          <h3 class="text-sm sm:text-base font-semibold text-white pr-4">
            {item.question}
          </h3>
          <svg 
            class="w-5 h-5 text-amber-400 flex-shrink-0 transition-transform duration-200 group-open:rotate-180" 
            fill="none" 
            viewBox="0 0 24 24" 
            stroke="currentColor"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </summary>
        <div class="px-4 sm:px-5 pb-4 sm:pb-5 text-zinc-400 text-sm leading-relaxed">
          <p set:html={item.answer} />
        </div>
      </details>
    ))}
  </div>
</section>

<!-- FAQ Schema for SEO -->
<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

<style>
  details summary::-webkit-details-marker {
    display: none;
  }
</style>
